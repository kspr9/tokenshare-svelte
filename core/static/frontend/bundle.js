var Cs=Object.defineProperty;var Ss=(se,re,b)=>re in se?Cs(se,re,{enumerable:!0,configurable:!0,writable:!0,value:b}):se[re]=b;var Qe=(se,re,b)=>(Ss(se,typeof re!="symbol"?re+"":re,b),b);(function(){"use strict";var se=document.createElement("style");se.textContent=`:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}a,.link-style{font-weight:500;color:#646cff;text-decoration:inherit}a:hover,.link-style:hover{color:#535bf2}.link-style{cursor:pointer}body{margin:0;padding:0;width:90%;height:100%;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}.card{padding:2em}#app{max-height:100vh;margin:0 auto;padding:0rem;text-align:center}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}nav.svelte-1ug69dt{background-color:#333;color:#fff;font-size:1em;text-align:right;width:100%;margin-top:1.25em}.title.svelte-16hbhxi{background-color:#333;color:#fff;padding:0rem;font-size:1em;text-align:left;width:100%;margin-top:1.25em}.logo.svelte-16hbhxi{background-color:green;height:25%}header.svelte-16hbhxi{display:flex;justify-content:space-between;align-items:center}.sidebar-container.svelte-xz7cni{min-height:100%;min-height:100dvh;width:15dvw}.sidebar-top.svelte-xz7cni,.sidebar-bottom.svelte-xz7cni,.content-container.svelte-1xf0ew2{display:flex;flex-direction:column}.content-container.svelte-1xf0ew2{flex:1}.email-element.svelte-5kn8fa{border:solid 3px;margin:10px}.read.svelte-5kn8fa{background-color:"grey";color:#000}.unread.svelte-5kn8fa{background-color:"white"}.msg-content.svelte-5kn8fa{padding:10px}.date.svelte-5kn8fa{float:right}footer.svelte-1uhmjix{background-color:#333;color:#fff;padding:0rem;font-size:1em;text-align:center;width:100%}.modal.svelte-fgx1rd{display:flex;position:fixed;top:0;left:0;width:100%;height:100%;align-items:center;justify-content:center;background-color:#00000080}.modal-content.svelte-fgx1rd{background-color:#333;padding:20px;border-radius:5px}main.svelte-1gxpsea{display:flex;flex-direction:row}
`,document.head.appendChild(se);const re="";function b(){}const Xe=t=>t;function ue(t,e){for(const n in e)t[n]=e[n];return t}function qt(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Ze(t){return t()}function et(){return Object.create(null)}function G(t){t.forEach(Ze)}function ye(t){return typeof t=="function"}function I(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Gt(t){return Object.keys(t).length===0}function tt(t,...e){if(t==null){for(const o of e)o(void 0);return b}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function H(t,e,n){t.$$.on_destroy.push(tt(e,n))}function X(t,e,n,o){if(t){const s=nt(t,e,n,o);return t[0](s)}}function nt(t,e,n,o){return t[1]&&o?ue(n.ctx.slice(),t[1](o(e))):n.ctx}function Z(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const l=[],r=Math.max(e.dirty.length,s.length);for(let i=0;i<r;i+=1)l[i]=e.dirty[i]|s[i];return l}return e.dirty|s}return e.dirty}function ee(t,e,n,o,s,l){if(s){const r=nt(e,n,o,l);t.p(r,s)}}function te(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function De(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ot(t,e){const n={};e=new Set(e);for(const o in t)!e.has(o)&&o[0]!=="$"&&(n[o]=t[o]);return n}function Qt(t){const e={};for(const n in t)e[n]=!0;return e}function xe(t){return t??""}const st=typeof window<"u";let rt=st?()=>window.performance.now():()=>Date.now(),Ie=st?t=>requestAnimationFrame(t):b;const ae=new Set;function lt(t){ae.forEach(e=>{e.c(t)||(ae.delete(e),e.f())}),ae.size!==0&&Ie(lt)}function it(t){let e;return ae.size===0&&Ie(lt),{promise:new Promise(n=>{ae.add(e={c:t,f:n})}),abort(){ae.delete(e)}}}function k(t,e){t.appendChild(e)}function ct(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Xt(t){const e=w("style");return e.textContent="/* empty */",Zt(ct(t),e),e.sheet}function Zt(t,e){return k(t.head||t,e),e.sheet}function v(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function ze(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function A(){return L(" ")}function Y(){return L("")}function F(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function Ue(t){return function(e){return e.preventDefault(),t.call(this,e)}}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const en=["width","height"];function ut(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)e[o]==null?t.removeAttribute(o):o==="style"?t.style.cssText=e[o]:o==="__value"?t.value=t[o]=e[o]:n[o]&&n[o].set&&en.indexOf(o)===-1?t[o]=e[o]:S(t,o,e[o])}function tn(t){return Array.from(t.childNodes)}function fe(t,e){e=""+e,t.data!==e&&(t.data=e)}function K(t,e){t.value=e??""}function at(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}function ft(t,e){return new t(e)}const Pe=new Map;let Ee=0;function nn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function on(t,e){const n={stylesheet:Xt(e),rules:{}};return Pe.set(t,n),n}function pt(t,e,n,o,s,l,r,i=0){const c=16.666/o;let u=`{
`;for(let h=0;h<=1;h+=c){const g=e+(n-e)*l(h);u+=h*100+`%{${r(g,1-g)}}
`}const d=u+`100% {${r(n,1-n)}}
}`,p=`__svelte_${nn(d)}_${i}`,f=ct(t),{stylesheet:m,rules:a}=Pe.get(f)||on(f,t);a[p]||(a[p]=!0,m.insertRule(`@keyframes ${p} ${d}`,m.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${p} ${o}ms linear ${s}ms 1 both`,Ee+=1,p}function He(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),s=n.length-o.length;s&&(t.style.animation=o.join(", "),Ee-=s,Ee||sn())}function sn(){Ie(()=>{Ee||(Pe.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&$(e)}),Pe.clear())})}let Ce;function ne(t){Ce=t}function pe(){if(!Ce)throw new Error("Function called outside component initialization");return Ce}function Se(t){pe().$$.on_mount.push(t)}function rn(t){pe().$$.on_destroy.push(t)}function ln(){const t=pe();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const l=at(e,n,{cancelable:o});return s.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}function Fe(t,e){return pe().$$.context.set(t,e),e}function de(t){return pe().$$.context.get(t)}const _e=[],dt=[];let me=[];const _t=[],cn=Promise.resolve();let We=!1;function un(){We||(We=!0,cn.then(Ve))}function he(t){me.push(t)}const Be=new Set;let ge=0;function Ve(){if(ge!==0)return;const t=Ce;do{try{for(;ge<_e.length;){const e=_e[ge];ge++,ne(e),an(e.$$)}}catch(e){throw _e.length=0,ge=0,e}for(ne(null),_e.length=0,ge=0;dt.length;)dt.pop()();for(let e=0;e<me.length;e+=1){const n=me[e];Be.has(n)||(Be.add(n),n())}me.length=0}while(_e.length);for(;_t.length;)_t.pop()();We=!1,Be.clear(),ne(t)}function an(t){if(t.fragment!==null){t.update(),G(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(he)}}function fn(t){const e=[],n=[];me.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),me=e}let je;function mt(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function Ne(t,e,n){t.dispatchEvent(at(`${e?"intro":"outro"}${n}`))}const Oe=new Set;let le;function W(){le={r:0,c:[],p:le}}function B(){le.r||G(le.c),le=le.p}function y(t,e){t&&t.i&&(Oe.delete(t),t.i(e))}function C(t,e,n,o){if(t&&t.o){if(Oe.has(t))return;Oe.add(t),le.c.push(()=>{Oe.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const ht={duration:0};function pn(t,e,n){const o={direction:"in"};let s=e(t,n,o),l=!1,r,i,c=0;function u(){r&&He(t,r)}function d(){const{delay:f=0,duration:m=300,easing:a=Xe,tick:_=b,css:h}=s||ht;h&&(r=pt(t,0,1,m,f,a,h,c++)),_(0,1);const g=rt()+f,j=g+m;i&&i.abort(),l=!0,he(()=>Ne(t,!0,"start")),i=it(x=>{if(l){if(x>=j)return _(1,0),Ne(t,!0,"end"),u(),l=!1;if(x>=g){const N=a((x-g)/m);_(N,1-N)}}return l})}let p=!1;return{start(){p||(p=!0,He(t),ye(s)?(s=s(o),mt().then(d)):d())},invalidate(){p=!1},end(){l&&(u(),l=!1)}}}function dn(t,e,n){const o={direction:"out"};let s=e(t,n,o),l=!0,r;const i=le;i.r+=1;let c;function u(){const{delay:d=0,duration:p=300,easing:f=Xe,tick:m=b,css:a}=s||ht;a&&(r=pt(t,1,0,p,d,f,a));const _=rt()+d,h=_+p;he(()=>Ne(t,!1,"start")),"inert"in t&&(c=t.inert,t.inert=!0),it(g=>{if(l){if(g>=h)return m(0,1),Ne(t,!1,"end"),--i.r||G(i.c),!1;if(g>=_){const j=f((g-_)/p);m(1-j,j)}}return l})}return ye(s)?mt().then(()=>{s=s(o),u()}):u(),{end(d){d&&"inert"in t&&(t.inert=c),d&&s.tick&&s.tick(1,0),l&&(r&&He(t,r),l=!1)}}}function be(t,e){const n=e.token={};function o(s,l,r,i){if(e.token!==n)return;e.resolved=i;let c=e.ctx;r!==void 0&&(c=c.slice(),c[r]=i);const u=s&&(e.current=s)(c);let d=!1;e.block&&(e.blocks?e.blocks.forEach((p,f)=>{f!==l&&p&&(W(),C(p,1,1,()=>{e.blocks[f]===p&&(e.blocks[f]=null)}),B())}):e.block.d(1),u.c(),y(u,1),u.m(e.mount(),e.anchor),d=!0),e.block=u,e.blocks&&(e.blocks[l]=u),d&&Ve()}if(qt(t)){const s=pe();if(t.then(l=>{ne(s),o(e.then,1,e.value,l),ne(null)},l=>{if(ne(s),o(e.catch,2,e.error,l),ne(null),!e.hasCatch)throw l}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function Re(t,e,n){const o=e.slice(),{resolved:s}=t;t.current===t.then&&(o[t.value]=s),t.current===t.catch&&(o[t.error]=s),t.block.p(o,n)}function ke(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ye(t,e){const n={},o={},s={$$scope:1};let l=t.length;for(;l--;){const r=t[l],i=e[l];if(i){for(const c in r)c in i||(o[c]=1);for(const c in i)s[c]||(n[c]=i[c],s[c]=1);t[l]=i}else for(const c in r)s[c]=1}for(const r in o)r in n||(n[r]=void 0);return n}function Te(t){return typeof t=="object"&&t!==null?t:{}}function T(t){t&&t.c()}function O(t,e,n){const{fragment:o,after_update:s}=t.$$;o&&o.m(e,n),he(()=>{const l=t.$$.on_mount.map(Ze).filter(ye);t.$$.on_destroy?t.$$.on_destroy.push(...l):G(l),t.$$.on_mount=[]}),s.forEach(he)}function R(t,e){const n=t.$$;n.fragment!==null&&(fn(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function _n(t,e){t.$$.dirty[0]===-1&&(_e.push(t),un(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function z(t,e,n,o,s,l,r=null,i=[-1]){const c=Ce;ne(t);const u=t.$$={fragment:null,ctx:[],props:l,update:b,not_equal:s,bound:et(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:et(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};r&&r(u.root);let d=!1;if(u.ctx=n?n(t,e.props||{},(p,f,...m)=>{const a=m.length?m[0]:f;return u.ctx&&s(u.ctx[p],u.ctx[p]=a)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](a),d&&_n(t,p)),f}):[],u.update(),d=!0,G(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const p=tn(e.target);u.fragment&&u.fragment.l(p),p.forEach($)}else u.fragment&&u.fragment.c();e.intro&&y(t.$$.fragment),O(t,e.target,e.anchor),Ve()}ne(c)}class U{constructor(){Qe(this,"$$");Qe(this,"$$set")}$destroy(){R(this,1),this.$destroy=b}$on(e,n){if(!ye(n))return b;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!Gt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const mn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(mn);const Ke={},Le={},gt={},bt=/^:(.+)/,kt=4,hn=3,gn=2,bn=1,kn=1,Ae=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),Je=t=>t.replace(/(^\/+|\/+$)/g,""),$n=(t,e)=>{const n=t.default?0:Ae(t.path).reduce((o,s)=>(o+=kt,s===""?o+=kn:bt.test(s)?o+=gn:s[0]==="*"?o-=kt+bn:o+=hn,o),0);return{route:t,score:n,index:e}},vn=t=>t.map($n).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),$t=(t,e)=>{let n,o;const[s]=e.split("?"),l=Ae(s),r=l[0]==="",i=vn(t);for(let c=0,u=i.length;c<u;c++){const d=i[c].route;let p=!1;if(d.default){o={route:d,params:{},uri:e};continue}const f=Ae(d.path),m={},a=Math.max(l.length,f.length);let _=0;for(;_<a;_++){const h=f[_],g=l[_];if(h&&h[0]==="*"){const x=h==="*"?"*":h.slice(1);m[x]=l.slice(_).map(decodeURIComponent).join("/");break}if(typeof g>"u"){p=!0;break}const j=bt.exec(h);if(j&&!r){const x=decodeURIComponent(g);m[j[1]]=x}else if(h!==g){p=!0;break}}if(!p){n={route:d,params:m,uri:"/"+l.slice(0,_).join("/")};break}}return n||o||null},qe=(t,e)=>t+(e?`?${e}`:""),wn=(t,e)=>{if(t.startsWith("/"))return t;const[n,o]=t.split("?"),[s]=e.split("?"),l=Ae(n),r=Ae(s);if(l[0]==="")return qe(s,o);if(!l[0].startsWith(".")){const u=r.concat(l).join("/");return qe((s==="/"?"":"/")+u,o)}const i=r.concat(l),c=[];return i.forEach(u=>{u===".."?c.pop():u!=="."&&c.push(u)}),qe("/"+c.join("/"),o)},vt=(t,e)=>`${Je(e==="/"?t:`${Je(t)}/${Je(e)}`)}/`,yn=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),wt=()=>typeof window<"u"&&"document"in window&&"location"in window,Cn=t=>({active:t&4}),yt=t=>({active:!!t[2]});function Sn(t){let e,n,o,s;const l=t[17].default,r=X(l,t,t[16],yt);let i=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],c={};for(let u=0;u<i.length;u+=1)c=ue(c,i[u]);return{c(){e=w("a"),r&&r.c(),ut(e,c)},m(u,d){v(u,e,d),r&&r.m(e,null),n=!0,o||(s=F(e,"click",t[5]),o=!0)},p(u,[d]){r&&r.p&&(!n||d&65540)&&ee(r,l,u,u[16],n?Z(l,u[16],d,Cn):te(u[16]),yt),ut(e,c=Ye(i,[(!n||d&1)&&{href:u[0]},(!n||d&4)&&{"aria-current":u[2]},d&2&&u[1],d&64&&u[6]]))},i(u){n||(y(r,u),n=!0)},o(u){C(r,u),n=!1},d(u){u&&$(e),r&&r.d(u),o=!1,s()}}}function jn(t,e,n){let o;const s=["to","replace","state","getProps","preserveScroll"];let l=ot(e,s),r,i,{$$slots:c={},$$scope:u}=e,{to:d="#"}=e,{replace:p=!1}=e,{state:f={}}=e,{getProps:m=()=>({})}=e,{preserveScroll:a=!1}=e;const _=de(Ke);H(t,_,P=>n(14,r=P));const{base:h}=de(Le);H(t,h,P=>n(15,i=P));const{navigate:g}=de(gt),j=ln();let x,N,E,D;const Q=P=>{if(j("click",P),yn(P)){P.preventDefault();const M=r.pathname===x||p;g(x,{state:f,replace:M,preserveScroll:a})}};return t.$$set=P=>{e=ue(ue({},e),De(P)),n(6,l=ot(e,s)),"to"in P&&n(7,d=P.to),"replace"in P&&n(8,p=P.replace),"state"in P&&n(9,f=P.state),"getProps"in P&&n(10,m=P.getProps),"preserveScroll"in P&&n(11,a=P.preserveScroll),"$$scope"in P&&n(16,u=P.$$scope)},t.$$.update=()=>{t.$$.dirty&32896&&n(0,x=d==="/"?i.uri:wn(d,i.uri)),t.$$.dirty&16385&&n(12,N=r.pathname.startsWith(x)),t.$$.dirty&16385&&n(13,E=x===r.pathname),t.$$.dirty&8192&&n(2,o=E?"page":void 0),n(1,D=m({location:r,href:x,isPartiallyCurrent:N,isCurrent:E,existingProps:l}))},[x,D,o,_,h,Q,l,d,p,f,m,a,N,E,r,i,u,c]}class oe extends U{constructor(e){super(),z(this,e,jn,Sn,I,{to:7,replace:8,state:9,getProps:10,preserveScroll:11})}}const An=t=>({params:t&4}),Ct=t=>({params:t[2]});function St(t){let e,n,o,s;const l=[xn,Mn],r=[];function i(c,u){return c[0]?0:1}return e=i(t),n=r[e]=l[e](t),{c(){n.c(),o=Y()},m(c,u){r[e].m(c,u),v(c,o,u),s=!0},p(c,u){let d=e;e=i(c),e===d?r[e].p(c,u):(W(),C(r[d],1,1,()=>{r[d]=null}),B(),n=r[e],n?n.p(c,u):(n=r[e]=l[e](c),n.c()),y(n,1),n.m(o.parentNode,o))},i(c){s||(y(n),s=!0)},o(c){C(n),s=!1},d(c){c&&$(o),r[e].d(c)}}}function Mn(t){let e;const n=t[8].default,o=X(n,t,t[7],Ct);return{c(){o&&o.c()},m(s,l){o&&o.m(s,l),e=!0},p(s,l){o&&o.p&&(!e||l&132)&&ee(o,n,s,s[7],e?Z(n,s[7],l,An):te(s[7]),Ct)},i(s){e||(y(o,s),e=!0)},o(s){C(o,s),e=!1},d(s){o&&o.d(s)}}}function xn(t){let e,n,o,s={ctx:t,current:null,token:null,hasCatch:!1,pending:Nn,then:En,catch:Pn,value:12,blocks:[,,,]};return be(n=t[0],s),{c(){e=Y(),s.block.c()},m(l,r){v(l,e,r),s.block.m(l,s.anchor=r),s.mount=()=>e.parentNode,s.anchor=e,o=!0},p(l,r){t=l,s.ctx=t,r&1&&n!==(n=t[0])&&be(n,s)||Re(s,t,r)},i(l){o||(y(s.block),o=!0)},o(l){for(let r=0;r<3;r+=1){const i=s.blocks[r];C(i)}o=!1},d(l){l&&$(e),s.block.d(l),s.token=null,s=null}}}function Pn(t){return{c:b,m:b,p:b,i:b,o:b,d:b}}function En(t){var i;let e,n,o;const s=[t[2],t[3]];var l=((i=t[12])==null?void 0:i.default)||t[12];function r(c,u){let d={};if(u!==void 0&&u&12)d=Ye(s,[u&4&&Te(c[2]),u&8&&Te(c[3])]);else for(let p=0;p<s.length;p+=1)d=ue(d,s[p]);return{props:d}}return l&&(e=ft(l,r(t))),{c(){e&&T(e.$$.fragment),n=Y()},m(c,u){e&&O(e,c,u),v(c,n,u),o=!0},p(c,u){var d;if(u&1&&l!==(l=((d=c[12])==null?void 0:d.default)||c[12])){if(e){W();const p=e;C(p.$$.fragment,1,0,()=>{R(p,1)}),B()}l?(e=ft(l,r(c,u)),T(e.$$.fragment),y(e.$$.fragment,1),O(e,n.parentNode,n)):e=null}else if(l){const p=u&12?Ye(s,[u&4&&Te(c[2]),u&8&&Te(c[3])]):{};e.$set(p)}},i(c){o||(e&&y(e.$$.fragment,c),o=!0)},o(c){e&&C(e.$$.fragment,c),o=!1},d(c){c&&$(n),e&&R(e,c)}}}function Nn(t){return{c:b,m:b,p:b,i:b,o:b,d:b}}function On(t){let e,n,o=t[1]&&t[1].route===t[5]&&St(t);return{c(){o&&o.c(),e=Y()},m(s,l){o&&o.m(s,l),v(s,e,l),n=!0},p(s,[l]){s[1]&&s[1].route===s[5]?o?(o.p(s,l),l&2&&y(o,1)):(o=St(s),o.c(),y(o,1),o.m(e.parentNode,e)):o&&(W(),C(o,1,1,()=>{o=null}),B())},i(s){n||(y(o),n=!0)},o(s){C(o),n=!1},d(s){s&&$(e),o&&o.d(s)}}}function Rn(t,e,n){let o,{$$slots:s={},$$scope:l}=e,{path:r=""}=e,{component:i=null}=e,c={},u={};const{registerRoute:d,unregisterRoute:p,activeRoute:f}=de(Le);H(t,f,a=>n(1,o=a));const m={path:r,default:r===""};return d(m),rn(()=>{p(m)}),t.$$set=a=>{n(11,e=ue(ue({},e),De(a))),"path"in a&&n(6,r=a.path),"component"in a&&n(0,i=a.component),"$$scope"in a&&n(7,l=a.$$scope)},t.$$.update=()=>{if(o&&o.route===m){n(2,c=o.params);const{component:a,path:_,...h}=e;n(3,u=h),a&&(a.toString().startsWith("class ")?n(0,i=a):n(0,i=a())),wt()&&!o.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=De(e),[i,o,c,u,f,m,r,l,s]}class ie extends U{constructor(e){super(),z(this,e,Rn,On,I,{path:6,component:0})}}const $e=[];function Tn(t,e){return{subscribe:ce(t,e).subscribe}}function ce(t,e=b){let n;const o=new Set;function s(i){if(I(t,i)&&(t=i,n)){const c=!$e.length;for(const u of o)u[1](),$e.push(u,t);if(c){for(let u=0;u<$e.length;u+=2)$e[u][0]($e[u+1]);$e.length=0}}}function l(i){s(i(t))}function r(i,c=b){const u=[i,c];return o.add(u),o.size===1&&(n=e(s,l)||b),i(t),()=>{o.delete(u),o.size===0&&n&&(n(),n=null)}}return{set:s,update:l,subscribe:r}}function Ln(t,e,n){const o=!Array.isArray(t),s=o?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return Tn(n,(r,i)=>{let c=!1;const u=[];let d=0,p=b;const f=()=>{if(d)return;p();const a=e(o?u[0]:u,r,i);l?r(a):p=ye(a)?a:b},m=s.map((a,_)=>tt(a,h=>{u[_]=h,d&=~(1<<_),c&&f()},()=>{d|=1<<_}));return c=!0,f(),function(){G(m),p(),c=!1}})}const Ge=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Dn=t=>{const e=[];let n=Ge(t);return{get location(){return n},listen(o){e.push(o);const s=()=>{n=Ge(t),o({location:n,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const l=e.indexOf(o);e.splice(l,1)}},navigate(o,{state:s,replace:l=!1,preserveScroll:r=!1}={}){s={...s,key:Date.now()+""};try{l?t.history.replaceState(s,"",o):t.history.pushState(s,"",o)}catch{t.location[l?"replace":"assign"](o)}n=Ge(t),e.forEach(i=>i({location:n,action:"PUSH",preserveScroll:r})),document.activeElement.blur()}}},In=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],o=[];return{get location(){return n[e]},addEventListener(s,l){},removeEventListener(s,l){},history:{get entries(){return n},get index(){return e},get state(){return o[e]},pushState(s,l,r){const[i,c=""]=r.split("?");e++,n.push({pathname:i,search:c}),o.push(s)},replaceState(s,l,r){const[i,c=""]=r.split("?");n[e]={pathname:i,search:c},o[e]=s}}}},jt=Dn(wt()?window:In()),{navigate:zn}=jt,Un=t=>({route:t&4,location:t&2}),At=t=>({route:t[2]&&t[2].uri,location:t[1]}),Hn=t=>({route:t&4,location:t&2}),Mt=t=>({route:t[2]&&t[2].uri,location:t[1]});function Fn(t){let e;const n=t[15].default,o=X(n,t,t[14],At);return{c(){o&&o.c()},m(s,l){o&&o.m(s,l),e=!0},p(s,l){o&&o.p&&(!e||l&16390)&&ee(o,n,s,s[14],e?Z(n,s[14],l,Un):te(s[14]),At)},i(s){e||(y(o,s),e=!0)},o(s){C(o,s),e=!1},d(s){o&&o.d(s)}}}function Wn(t){let e=t[1].pathname,n,o,s=xt(t);return{c(){s.c(),n=Y()},m(l,r){s.m(l,r),v(l,n,r),o=!0},p(l,r){r&2&&I(e,e=l[1].pathname)?(W(),C(s,1,1,b),B(),s=xt(l),s.c(),y(s,1),s.m(n.parentNode,n)):s.p(l,r)},i(l){o||(y(s),o=!0)},o(l){C(s),o=!1},d(l){l&&$(n),s.d(l)}}}function xt(t){let e,n,o,s;const l=t[15].default,r=X(l,t,t[14],Mt);return{c(){e=w("div"),r&&r.c()},m(i,c){v(i,e,c),r&&r.m(e,null),s=!0},p(i,c){r&&r.p&&(!s||c&16390)&&ee(r,l,i,i[14],s?Z(l,i[14],c,Hn):te(i[14]),Mt)},i(i){s||(y(r,i),i&&he(()=>{s&&(o&&o.end(1),n=pn(e,t[3],{}),n.start())}),s=!0)},o(i){C(r,i),n&&n.invalidate(),i&&(o=dn(e,t[3],{})),s=!1},d(i){i&&$(e),r&&r.d(i),i&&o&&o.end()}}}function Bn(t){let e,n,o,s;const l=[Wn,Fn],r=[];function i(c,u){return c[0]?0:1}return e=i(t),n=r[e]=l[e](t),{c(){n.c(),o=Y()},m(c,u){r[e].m(c,u),v(c,o,u),s=!0},p(c,[u]){let d=e;e=i(c),e===d?r[e].p(c,u):(W(),C(r[d],1,1,()=>{r[d]=null}),B(),n=r[e],n?n.p(c,u):(n=r[e]=l[e](c),n.c()),y(n,1),n.m(o.parentNode,o))},i(c){s||(y(n),s=!0)},o(c){C(n),s=!1},d(c){c&&$(o),r[e].d(c)}}}function Vn(t,e,n){let o,s,l,r,{$$slots:i={},$$scope:c}=e,{basepath:u="/"}=e,{url:d=null}=e,{viewtransition:p=null}=e,{history:f=jt}=e;const m=(M,J,q)=>{const V=p(q);return typeof(V==null?void 0:V.fn)=="function"?V.fn(M,V):V};Fe(gt,f);const a=de(Ke),_=de(Le),h=ce([]);H(t,h,M=>n(12,s=M));const g=ce(null);H(t,g,M=>n(2,r=M));let j=!1;const x=a||ce(d?{pathname:d}:f.location);H(t,x,M=>n(1,o=M));const N=_?_.routerBase:ce({path:u,uri:u});H(t,N,M=>n(13,l=M));const E=Ln([N,g],([M,J])=>{if(!J)return M;const{path:q}=M,{route:V,uri:ys}=J;return{path:V.default?q:V.path.replace(/\*.*$/,""),uri:ys}}),D=M=>{const{path:J}=l;let{path:q}=M;if(M._path=q,M.path=vt(J,q),typeof window>"u"){if(j)return;const V=$t([M],o.pathname);V&&(g.set(V),j=!0)}else h.update(V=>[...V,M])},Q=M=>{h.update(J=>J.filter(q=>q!==M))};let P=!1;return a||(Se(()=>f.listen(J=>{n(11,P=J.preserveScroll||!1),x.set(J.location)})),Fe(Ke,x)),Fe(Le,{activeRoute:g,base:N,routerBase:E,registerRoute:D,unregisterRoute:Q}),t.$$set=M=>{"basepath"in M&&n(8,u=M.basepath),"url"in M&&n(9,d=M.url),"viewtransition"in M&&n(0,p=M.viewtransition),"history"in M&&n(10,f=M.history),"$$scope"in M&&n(14,c=M.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:M}=l;h.update(J=>J.map(q=>Object.assign(q,{path:vt(M,q._path)})))}if(t.$$.dirty&6146){const M=$t(s,o.pathname);g.set(M&&{...M,preserveScroll:P})}},[p,o,r,m,h,g,x,N,u,d,f,P,s,l,c,i]}class Yn extends U{constructor(e){super(),z(this,e,Vn,Bn,I,{basepath:8,url:9,viewtransition:0,history:10})}}const ve=ce(!1),we=ce(!1),js="";function Kn(t){let e;return{c(){e=L("Home")},m(n,o){v(n,e,o)},d(n){n&&$(e)}}}function Jn(t){let e;return{c(){e=L("About")},m(n,o){v(n,e,o)},d(n){n&&$(e)}}}function qn(t){let e;return{c(){e=L("Open Funding Calls")},m(n,o){v(n,e,o)},d(n){n&&$(e)}}}function Gn(t){let e,n,o,s,l,r;return o=new oe({props:{to:"/signup",$$slots:{default:[Xn]},$$scope:{ctx:t}}}),{c(){e=w("span"),e.textContent="Log In",n=A(),T(o.$$.fragment),S(e,"class","link-style")},m(i,c){v(i,e,c),v(i,n,c),O(o,i,c),s=!0,l||(r=F(e,"click",t[2]),l=!0)},p(i,c){const u={};c&16&&(u.$$scope={dirty:c,ctx:i}),o.$set(u)},i(i){s||(y(o.$$.fragment,i),s=!0)},o(i){C(o.$$.fragment,i),s=!1},d(i){i&&($(e),$(n)),R(o,i),l=!1,r()}}}function Qn(t){let e,n;return{c(){e=w("a"),n=L("Log Out"),S(e,"href",t[1])},m(o,s){v(o,e,s),k(e,n)},p:b,i:b,o:b,d(o){o&&$(e)}}}function Xn(t){let e;return{c(){e=L("Register")},m(n,o){v(n,e,o)},d(n){n&&$(e)}}}function Zn(t){let e,n,o,s,l,r,i,c,u,d;n=new oe({props:{to:"",$$slots:{default:[Kn]},$$scope:{ctx:t}}}),s=new oe({props:{to:"/about",$$slots:{default:[Jn]},$$scope:{ctx:t}}}),r=new oe({props:{to:"/open-funding-calls",$$slots:{default:[qn]},$$scope:{ctx:t}}});const p=[Qn,Gn],f=[];function m(a,_){return a[0]?0:1}return c=m(t),u=f[c]=p[c](t),{c(){e=w("nav"),T(n.$$.fragment),o=A(),T(s.$$.fragment),l=A(),T(r.$$.fragment),i=A(),u.c(),S(e,"class","svelte-1ug69dt")},m(a,_){v(a,e,_),O(n,e,null),k(e,o),O(s,e,null),k(e,l),O(r,e,null),k(e,i),f[c].m(e,null),d=!0},p(a,[_]){const h={};_&16&&(h.$$scope={dirty:_,ctx:a}),n.$set(h);const g={};_&16&&(g.$$scope={dirty:_,ctx:a}),s.$set(g);const j={};_&16&&(j.$$scope={dirty:_,ctx:a}),r.$set(j);let x=c;c=m(a),c===x?f[c].p(a,_):(W(),C(f[x],1,1,()=>{f[x]=null}),B(),u=f[c],u?u.p(a,_):(u=f[c]=p[c](a),u.c()),y(u,1),u.m(e,null))},i(a){d||(y(n.$$.fragment,a),y(s.$$.fragment,a),y(r.$$.fragment,a),y(u),d=!0)},o(a){C(n.$$.fragment,a),C(s.$$.fragment,a),C(r.$$.fragment,a),C(u),d=!1},d(a){a&&$(e),R(n),R(s),R(r),f[c].d()}}}function eo(t,e,n){let o,s;H(t,we,i=>n(3,o=i)),H(t,ve,i=>n(0,s=i));let l=`${window.location.origin}/accounts/logout`;function r(){console.log("open login modal"),console.log(o),we.set(!0),console.log(o)}return[s,l,r]}class to extends U{constructor(e){super(),z(this,e,eo,Zn,I,{})}}const As="";function no(t){let e,n,o,s,l,r,i;return r=new to({}),{c(){e=w("header"),n=w("div"),o=A(),s=w("div"),s.textContent="TokenShare Portal",l=A(),T(r.$$.fragment),S(n,"class","logo svelte-16hbhxi"),S(s,"class","title svelte-16hbhxi"),S(e,"class","svelte-16hbhxi")},m(c,u){v(c,e,u),k(e,n),k(e,o),k(e,s),k(e,l),O(r,e,null),i=!0},p:b,i(c){i||(y(r.$$.fragment,c),i=!0)},o(c){C(r.$$.fragment,c),i=!1},d(c){c&&$(e),R(r)}}}class oo extends U{constructor(e){super(),z(this,e,null,no,I,{})}}const Ms="";function so(t){let e;return{c(){e=L("Dashboard")},m(n,o){v(n,e,o)},d(n){n&&$(e)}}}function ro(t){let e;return{c(){e=L("Workspaces")},m(n,o){v(n,e,o)},d(n){n&&$(e)}}}function lo(t){let e;return{c(){e=L("Messages")},m(n,o){v(n,e,o)},d(n){n&&$(e)}}}function io(t){let e;return{c(){e=L("Profile")},m(n,o){v(n,e,o)},d(n){n&&$(e)}}}function co(t){let e;return{c(){e=L("Settings")},m(n,o){v(n,e,o)},d(n){n&&$(e)}}}function uo(t){let e,n,o,s,l,r,i,c,u,d,p,f,m;return o=new oe({props:{to:"/app/dashboard",$$slots:{default:[so]},$$scope:{ctx:t}}}),l=new oe({props:{to:"/app/workspaces",$$slots:{default:[ro]},$$scope:{ctx:t}}}),i=new oe({props:{to:"/app/messages",$$slots:{default:[lo]},$$scope:{ctx:t}}}),d=new oe({props:{to:"/app/profile",$$slots:{default:[io]},$$scope:{ctx:t}}}),f=new oe({props:{to:"/app/settings",$$slots:{default:[co]},$$scope:{ctx:t}}}),{c(){e=w("div"),n=w("div"),T(o.$$.fragment),s=A(),T(l.$$.fragment),r=A(),T(i.$$.fragment),c=A(),u=w("div"),T(d.$$.fragment),p=A(),T(f.$$.fragment),S(n,"class","sidebar-top svelte-xz7cni"),S(u,"class","sidebar-bottom svelte-xz7cni"),S(e,"class","sidebar-container svelte-xz7cni")},m(a,_){v(a,e,_),k(e,n),O(o,n,null),k(n,s),O(l,n,null),k(n,r),O(i,n,null),k(e,c),k(e,u),O(d,u,null),k(u,p),O(f,u,null),m=!0},p(a,[_]){const h={};_&1&&(h.$$scope={dirty:_,ctx:a}),o.$set(h);const g={};_&1&&(g.$$scope={dirty:_,ctx:a}),l.$set(g);const j={};_&1&&(j.$$scope={dirty:_,ctx:a}),i.$set(j);const x={};_&1&&(x.$$scope={dirty:_,ctx:a}),d.$set(x);const N={};_&1&&(N.$$scope={dirty:_,ctx:a}),f.$set(N)},i(a){m||(y(o.$$.fragment,a),y(l.$$.fragment,a),y(i.$$.fragment,a),y(d.$$.fragment,a),y(f.$$.fragment,a),m=!0)},o(a){C(o.$$.fragment,a),C(l.$$.fragment,a),C(i.$$.fragment,a),C(d.$$.fragment,a),C(f.$$.fragment,a),m=!1},d(a){a&&$(e),R(o),R(l),R(i),R(d),R(f)}}}class ao extends U{constructor(e){super(),z(this,e,null,uo,I,{})}}function fo(t){let e;return{c(){e=w("h1"),e.textContent="User Profile"},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}class po extends U{constructor(e){super(),z(this,e,null,fo,I,{})}}const Me=ce(null);function _o(t){let e,n,o,s,l;return{c(){e=w("button"),n=L("count is "),o=L(t[0])},m(r,i){v(r,e,i),k(e,n),k(e,o),s||(l=F(e,"click",t[1]),s=!0)},p(r,[i]){i&1&&fe(o,r[0])},i:b,o:b,d(r){r&&$(e),s=!1,l()}}}function mo(t,e,n){let o=0;return[o,()=>{n(0,o+=1)}]}class ho extends U{constructor(e){super(),z(this,e,mo,_o,I,{})}}const xs="";function go(t){var x;let e,n,o,s=((x=t[1])==null?void 0:x.username)+"",l,r,i,c,u,d,p,f,m,a,_,h,g,j;return m=new ho({}),{c(){e=w("div"),n=w("h4"),o=L("Hello "),l=L(s),r=L("!"),i=A(),c=w("h1"),c.textContent="Welcome to your dashboard.",u=L(`
    To manage your companies or create one, navigate to your Workspaces
    `),d=w("br"),p=A(),f=w("div"),T(m.$$.fragment),a=A(),_=w("h3"),_.textContent="Data from server",h=A(),g=L(t[0]),S(f,"class","card"),S(e,"class","content-container svelte-1xf0ew2")},m(N,E){v(N,e,E),k(e,n),k(n,o),k(n,l),k(n,r),k(e,i),k(e,c),k(e,u),k(e,d),k(e,p),k(e,f),O(m,f,null),k(e,a),k(e,_),k(e,h),k(e,g),j=!0},p(N,[E]){var D;(!j||E&2)&&s!==(s=((D=N[1])==null?void 0:D.username)+"")&&fe(l,s),(!j||E&1)&&fe(g,N[0])},i(N){j||(y(m.$$.fragment,N),j=!0)},o(N){C(m.$$.fragment,N),j=!1},d(N){N&&$(e),R(m)}}}function bo(t,e,n){let o;H(t,Me,l=>n(1,o=l)),console.log("Dashboard component is being initialized"),console.log("Username:",o);let s="waiting for server...";return Se(async()=>{let l=await fetch("/api/greet").then(r=>r.json());console.log(l),n(0,s=JSON.stringify(l))}),[s,o]}class Pt extends U{constructor(e){super(),z(this,e,bo,go,I,{})}}function ko(t){let e;return{c(){e=w("h1"),e.textContent="Workspaces"},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}class $o extends U{constructor(e){super(),z(this,e,null,ko,I,{})}}const Ps="",vo=t=>({}),Et=t=>({class:"date svelte-5kn8fa"}),wo=t=>({}),Nt=t=>({}),yo=t=>({}),Ot=t=>({}),Co=t=>({}),Rt=t=>({}),So=t=>({}),Tt=t=>({});function Lt(t){let e;const n=t[3].sender,o=X(n,t,t[2],Rt);return{c(){o&&o.c()},m(s,l){o&&o.m(s,l),e=!0},p(s,l){o&&o.p&&(!e||l&4)&&ee(o,n,s,s[2],e?Z(n,s[2],l,Co):te(s[2]),Rt)},i(s){e||(y(o,s),e=!0)},o(s){C(o,s),e=!1},d(s){o&&o.d(s)}}}function Dt(t){let e;const n=t[3].recipients,o=X(n,t,t[2],Ot);return{c(){o&&o.c()},m(s,l){o&&o.m(s,l),e=!0},p(s,l){o&&o.p&&(!e||l&4)&&ee(o,n,s,s[2],e?Z(n,s[2],l,yo):te(s[2]),Ot)},i(s){e||(y(o,s),e=!0)},o(s){C(o,s),e=!1},d(s){o&&o.d(s)}}}function jo(t){let e,n,o,s,l,r,i,c;const u=t[3].pre_description,d=X(u,t,t[2],Tt);let p=t[1].sender&&Lt(t),f=t[1].recipients&&Dt(t);const m=t[3].subject,a=X(m,t,t[2],Nt),_=t[3].timestamp,h=X(_,t,t[2],Et);return{c(){e=w("div"),n=w("div"),d&&d.c(),o=A(),p&&p.c(),s=A(),f&&f.c(),l=A(),a&&a.c(),r=A(),h&&h.c(),S(n,"class","msg-content svelte-5kn8fa"),S(e,"class",i=xe(t[0]?"email-element read":"email-element unread text-muted")+" svelte-5kn8fa")},m(g,j){v(g,e,j),k(e,n),d&&d.m(n,null),k(n,o),p&&p.m(n,null),k(n,s),f&&f.m(n,null),k(n,l),a&&a.m(n,null),k(n,r),h&&h.m(n,null),c=!0},p(g,[j]){d&&d.p&&(!c||j&4)&&ee(d,u,g,g[2],c?Z(u,g[2],j,So):te(g[2]),Tt),g[1].sender?p?(p.p(g,j),j&2&&y(p,1)):(p=Lt(g),p.c(),y(p,1),p.m(n,s)):p&&(W(),C(p,1,1,()=>{p=null}),B()),g[1].recipients?f?(f.p(g,j),j&2&&y(f,1)):(f=Dt(g),f.c(),y(f,1),f.m(n,l)):f&&(W(),C(f,1,1,()=>{f=null}),B()),a&&a.p&&(!c||j&4)&&ee(a,m,g,g[2],c?Z(m,g[2],j,wo):te(g[2]),Nt),h&&h.p&&(!c||j&4)&&ee(h,_,g,g[2],c?Z(_,g[2],j,vo):te(g[2]),Et),(!c||j&1&&i!==(i=xe(g[0]?"email-element read":"email-element unread text-muted")+" svelte-5kn8fa"))&&S(e,"class",i)},i(g){c||(y(d,g),y(p),y(f),y(a,g),y(h,g),c=!0)},o(g){C(d,g),C(p),C(f),C(a,g),C(h,g),c=!1},d(g){g&&$(e),d&&d.d(g),p&&p.d(),f&&f.d(),a&&a.d(g),h&&h.d(g)}}}function Ao(t,e,n){let{$$slots:o={},$$scope:s}=e;const l=Qt(o);let{read:r=!1}=e;return t.$$set=i=>{"read"in i&&n(0,r=i.read),"$$scope"in i&&n(2,s=i.$$scope)},[r,l,s,o]}class It extends U{constructor(e){super(),z(this,e,Ao,jo,I,{read:0})}}function Mo(t){let e,n,o,s,l,r,i,c,u,d,p,f,m,a,_,h,g,j,x,N,E,D,Q;return{c(){e=w("h2"),e.textContent="Compose your message",n=A(),o=w("div"),s=w("h3"),s.textContent="New Message",l=A(),r=w("form"),i=w("div"),c=L("From: "),u=w("input"),d=A(),p=w("div"),f=L("To: "),m=w("input"),a=A(),_=w("div"),h=w("input"),g=A(),j=w("textarea"),x=A(),N=w("input"),u.disabled=!0,S(u,"class","form-control"),S(i,"class","form-group"),S(m,"class","form-control"),S(m,"placeholder","Recipients"),S(p,"class","form-group"),S(h,"class","form-control"),S(h,"placeholder","Subject"),S(_,"class","form-group"),S(j,"class","form-control"),S(j,"placeholder","Your Message Here"),S(N,"type","submit"),S(N,"class","btn btn-primary"),N.value="Send",S(N,"id","send-email"),N.disabled=E=!t[4]||!t[4].username,S(r,"id","compose-form"),S(o,"id","compose-view")},m(P,M){v(P,e,M),v(P,n,M),v(P,o,M),k(o,s),k(o,l),k(o,r),k(r,i),k(i,c),k(i,u),K(u,t[3]),k(r,d),k(r,p),k(p,f),k(p,m),K(m,t[0]),k(r,a),k(r,_),k(_,h),K(h,t[1]),k(r,g),k(r,j),K(j,t[2]),k(r,x),k(r,N),D||(Q=[F(u,"input",t[7]),F(m,"input",t[8]),F(h,"input",t[9]),F(j,"input",t[10]),F(r,"submit",Ue(t[5]))],D=!0)},p(P,[M]){M&8&&u.value!==P[3]&&K(u,P[3]),M&1&&m.value!==P[0]&&K(m,P[0]),M&2&&h.value!==P[1]&&K(h,P[1]),M&4&&K(j,P[2]),M&16&&E!==(E=!P[4]||!P[4].username)&&(N.disabled=E)},i:b,o:b,d(P){P&&($(e),$(n),$(o)),D=!1,G(Q)}}}function xo(t,e,n){let o;H(t,Me,a=>n(4,o=a));let{onMessageSent:s}=e,l="",r="",i="",c=o==null?void 0:o.username;async function u(){await fetch("/user_comms/send_msg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipients:l,subject:r,body:i})}).then(a=>a.json()).then(a=>{console.log({result:a})}).then(()=>{s("sent")}).catch(a=>{console.error("Error:",a)})}function d(){c=this.value,n(3,c)}function p(){l=this.value,n(0,l)}function f(){r=this.value,n(1,r)}function m(){i=this.value,n(2,i)}return t.$$set=a=>{"onMessageSent"in a&&n(6,s=a.onMessageSent)},[l,r,i,c,o,u,s,d,p,f,m]}class Po extends U{constructor(e){super(),z(this,e,xo,Mo,I,{onMessageSent:6})}}function zt(t,e,n){const o=t.slice();return o[9]=e[n],o}function Ut(t,e,n){const o=t.slice();return o[15]=e[n],o}function Ht(t,e,n){const o=t.slice();return o[9]=e[n],o}function Eo(t){let e;return{c(){e=w("h2"),e.textContent="Archive"},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}function No(t){let e,n;return e=new Po({props:{onMessageSent:t[1]}}),{c(){T(e.$$.fragment)},m(o,s){O(e,o,s),n=!0},p:b,i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){R(e,o)}}}function Oo(t){let e,n,o,s,l={ctx:t,current:null,token:null,hasCatch:!0,pending:Ho,then:Lo,catch:To,value:8,error:12,blocks:[,,,]};return be(Vt("sent"),l),{c(){e=w("h2"),e.textContent="Sent",n=A(),o=Y(),l.block.c()},m(r,i){v(r,e,i),v(r,n,i),v(r,o,i),l.block.m(r,l.anchor=i),l.mount=()=>o.parentNode,l.anchor=o,s=!0},p(r,i){t=r,Re(l,t,i)},i(r){s||(y(l.block),s=!0)},o(r){for(let i=0;i<3;i+=1){const c=l.blocks[i];C(c)}s=!1},d(r){r&&($(e),$(n),$(o)),l.block.d(r),l.token=null,l=null}}}function Ro(t){let e,n,o,s,l={ctx:t,current:null,token:null,hasCatch:!0,pending:Jo,then:Wo,catch:Fo,value:8,error:12,blocks:[,,,]};return be(Vt("inbox"),l),{c(){e=w("h2"),e.textContent="Inbox",n=A(),o=Y(),l.block.c()},m(r,i){v(r,e,i),v(r,n,i),v(r,o,i),l.block.m(r,l.anchor=i),l.mount=()=>o.parentNode,l.anchor=o,s=!0},p(r,i){t=r,Re(l,t,i)},i(r){s||(y(l.block),s=!0)},o(r){for(let i=0;i<3;i+=1){const c=l.blocks[i];C(c)}s=!1},d(r){r&&($(e),$(n),$(o)),l.block.d(r),l.token=null,l=null}}}function To(t){let e;return{c(){e=w("p"),e.textContent=`Error loading sentbox: ${t[12].message}`},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}function Lo(t){let e,n,o=ke(t[8]),s=[];for(let r=0;r<o.length;r+=1)s[r]=Wt(zt(t,o,r));const l=r=>C(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Y()},m(r,i){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,i);v(r,e,i),n=!0},p(r,i){if(i&0){o=ke(r[8]);let c;for(c=0;c<o.length;c+=1){const u=zt(r,o,c);s[c]?(s[c].p(u,i),y(s[c],1)):(s[c]=Wt(u),s[c].c(),y(s[c],1),s[c].m(e.parentNode,e))}for(W(),c=o.length;c<s.length;c+=1)l(c);B()}},i(r){if(!n){for(let i=0;i<o.length;i+=1)y(s[i]);n=!0}},o(r){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)C(s[i]);n=!1},d(r){r&&$(e),ze(s,r)}}}function Do(t){let e;return{c(){e=w("span"),e.textContent=`Sent to:
                `,S(e,"class","pre_description"),S(e,"slot","pre_description")},m(n,o){v(n,e,o)},p:b,d(n){n&&$(e)}}}function Ft(t){let e=t[15]+"",n;return{c(){n=L(e)},m(o,s){v(o,n,s)},p:b,d(o){o&&$(n)}}}function Io(t){let e,n,o=ke(t[9].recipients),s=[];for(let l=0;l<o.length;l+=1)s[l]=Ft(Ut(t,o,l));return{c(){e=w("div");for(let l=0;l<s.length;l+=1)s[l].c();n=A(),S(e,"class","recipients"),S(e,"slot","recipients")},m(l,r){v(l,e,r);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);k(e,n)},p(l,r){if(r&0){o=ke(l[9].recipients);let i;for(i=0;i<o.length;i+=1){const c=Ut(l,o,i);s[i]?s[i].p(c,r):(s[i]=Ft(c),s[i].c(),s[i].m(e,n))}for(;i<s.length;i+=1)s[i].d(1);s.length=o.length}},d(l){l&&$(e),ze(s,l)}}}function zo(t){let e;return{c(){e=w("div"),e.textContent=`Subject: ${t[9].subject} `,S(e,"class","subject"),S(e,"slot","subject")},m(n,o){v(n,e,o)},p:b,d(n){n&&$(e)}}}function Uo(t){let e;return{c(){e=w("div"),e.textContent=`Date: ${t[9].timestamp} `,S(e,"class","date"),S(e,"slot","timestamp")},m(n,o){v(n,e,o)},p:b,d(n){n&&$(e)}}}function Wt(t){let e,n;return e=new It({props:{$$slots:{timestamp:[Uo],subject:[zo],recipients:[Io],pre_description:[Do]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},m(o,s){O(e,o,s),n=!0},p(o,s){const l={};s&262144&&(l.$$scope={dirty:s,ctx:o}),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){R(e,o)}}}function Ho(t){let e;return{c(){e=w("p"),e.textContent="Loading sentbox data..."},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}function Fo(t){let e;return{c(){e=w("p"),e.textContent=`Error loading inbox: ${t[12].message}`},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}function Wo(t){let e,n,o=ke(t[8]),s=[];for(let r=0;r<o.length;r+=1)s[r]=Bt(Ht(t,o,r));const l=r=>C(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=Y()},m(r,i){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(r,i);v(r,e,i),n=!0},p(r,i){if(i&0){o=ke(r[8]);let c;for(c=0;c<o.length;c+=1){const u=Ht(r,o,c);s[c]?(s[c].p(u,i),y(s[c],1)):(s[c]=Bt(u),s[c].c(),y(s[c],1),s[c].m(e.parentNode,e))}for(W(),c=o.length;c<s.length;c+=1)l(c);B()}},i(r){if(!n){for(let i=0;i<o.length;i+=1)y(s[i]);n=!0}},o(r){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)C(s[i]);n=!1},d(r){r&&$(e),ze(s,r)}}}function Bo(t){let e;return{c(){e=w("span"),e.textContent=`Received from:
                `,S(e,"class","pre_description"),S(e,"slot","pre_description")},m(n,o){v(n,e,o)},p:b,d(n){n&&$(e)}}}function Vo(t){let e;return{c(){e=w("div"),e.textContent=`${t[9].sender} `,S(e,"class","sender"),S(e,"slot","sender")},m(n,o){v(n,e,o)},p:b,d(n){n&&$(e)}}}function Yo(t){let e;return{c(){e=w("div"),e.textContent=`Subject: ${t[9].subject} `,S(e,"class","subject"),S(e,"slot","subject")},m(n,o){v(n,e,o)},p:b,d(n){n&&$(e)}}}function Ko(t){let e;return{c(){e=w("div"),e.textContent=`Date: ${t[9].timestamp} `,S(e,"class","date"),S(e,"slot","timestamp")},m(n,o){v(n,e,o)},p:b,d(n){n&&$(e)}}}function Bt(t){let e,n;return e=new It({props:{$$slots:{timestamp:[Ko],subject:[Yo],sender:[Vo],pre_description:[Bo]},$$scope:{ctx:t}}}),{c(){T(e.$$.fragment)},m(o,s){O(e,o,s),n=!0},p(o,s){const l={};s&262144&&(l.$$scope={dirty:s,ctx:o}),e.$set(l)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){R(e,o)}}}function Jo(t){let e;return{c(){e=w("p"),e.textContent="Loading inbox data..."},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}function qo(t){let e,n,o,s,l,r,i,c,u,d,p,f,m,a,_,h,g;const j=[Ro,Oo,No,Eo],x=[];function N(E,D){return E[0]==="inbox"?0:E[0]==="sent"?1:E[0]==="compose"?2:E[0]==="archive"?3:-1}return~(f=N(t))&&(m=x[f]=j[f](t)),{c(){e=w("h1"),e.textContent="Messages",n=A(),o=w("div"),s=w("button"),s.textContent="Inbox",l=A(),r=w("button"),r.textContent="New Message",i=A(),c=w("button"),c.textContent="Sent",u=A(),d=w("button"),d.textContent="Archived",p=A(),m&&m.c(),a=Y(),S(s,"id","inbox-btn"),S(r,"id","compose-btn"),S(c,"id","sent-btn"),S(d,"id","archived-btn"),S(o,"class","msg-controls")},m(E,D){v(E,e,D),v(E,n,D),v(E,o,D),k(o,s),k(o,l),k(o,r),k(o,i),k(o,c),k(o,u),k(o,d),v(E,p,D),~f&&x[f].m(E,D),v(E,a,D),_=!0,h||(g=[F(s,"click",t[2]),F(r,"click",t[3]),F(c,"click",t[4]),F(d,"click",t[5])],h=!0)},p(E,[D]){let Q=f;f=N(E),f===Q?~f&&x[f].p(E,D):(m&&(W(),C(x[Q],1,1,()=>{x[Q]=null}),B()),~f?(m=x[f],m?m.p(E,D):(m=x[f]=j[f](E),m.c()),y(m,1),m.m(a.parentNode,a)):m=null)},i(E){_||(y(m),_=!0)},o(E){C(m),_=!1},d(E){E&&($(e),$(n),$(o),$(p),$(a)),~f&&x[f].d(E),h=!1,G(g)}}}async function Vt(t){return await(await fetch(`/user_comms/message_hub/${t}`)).json()}function Go(t,e,n){let o;H(t,Me,d=>n(6,o=d));let s="inbox";o==null||o.username,Se(async()=>{l("inbox")});async function l(d){n(0,s=d)}return[s,l,()=>l("inbox"),()=>l("compose"),()=>l("sent"),()=>l("archived")]}class Qo extends U{constructor(e){super(),z(this,e,Go,qo,I,{})}}function Xo(t){let e;return{c(){e=w("h1"),e.textContent="Settings"},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}class Zo extends U{constructor(e){super(),z(this,e,null,Xo,I,{})}}function es(t){let e,n,o,s,l,r,i,c,u,d,p,f;return{c(){e=w("div"),n=w("h2"),n.textContent="Welcome to TokenShare portal",o=A(),s=w("h3"),l=L("You are signed in? "),r=L(t[0]),i=A(),c=w("p"),c.textContent="Tokenshare enables digitization of all governance operations of your company.",u=A(),d=w("p"),d.innerHTML=`This means, you can issue shares, transfer share ownership, hold shareholder meetings and vote on decisions.
        Any official documents (such as Articles of Association) can be independently validated through cryptographic hashing on the blockchain.
        <br/>
        Voting results in legally binding decisions.

        Additionally, you can own shares of other companies through Tokenshare wallet contract. 
        Owning shares gives your voting rights as per the Articles of Association of each company`,p=A(),f=w("p"),f.textContent="Please Sign In or Register to continue.",S(e,"class","content-container-no-signin")},m(m,a){v(m,e,a),k(e,n),k(e,o),k(e,s),k(s,l),k(s,r),k(e,i),k(e,c),k(e,u),k(e,d),k(e,p),k(e,f)},p(m,[a]){a&1&&fe(r,m[0])},i:b,o:b,d(m){m&&$(e)}}}function ts(t,e,n){let o;return H(t,ve,s=>n(0,o=s)),[o]}class ns extends U{constructor(e){super(),z(this,e,ts,es,I,{})}}const Es="";function os(t){let e;return{c(){e=w("footer"),e.innerHTML="<p>Â© 2023 Tokenshare | Reset Consulting. All rights reserved.</p>",S(e,"class","footer svelte-1uhmjix")},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}class ss extends U{constructor(e){super(),z(this,e,null,os,I,{})}}const Ns="";function Yt(t){let e,n,o,s,l,r,i,c,u,d,p,f,m,a,_,h=t[2]&&Kt(t);return{c(){e=w("div"),n=w("div"),o=w("button"),o.textContent="Close",s=A(),l=w("form"),r=w("input"),i=A(),c=w("input"),u=A(),d=w("input"),p=A(),f=w("button"),f.textContent="Login",m=A(),h&&h.c(),S(r,"type","text"),S(r,"placeholder","Username"),S(c,"type","password"),S(c,"placeholder","Password"),S(d,"type","hidden"),S(d,"name","csrfmiddlewaretoken"),d.value=t[3],S(f,"type","submit"),S(n,"class","modal-content svelte-fgx1rd"),S(e,"class","modal svelte-fgx1rd")},m(g,j){v(g,e,j),k(e,n),k(n,o),k(n,s),k(n,l),k(l,r),K(r,t[0]),k(l,i),k(l,c),K(c,t[1]),k(l,u),k(l,d),k(l,p),k(l,f),k(l,m),h&&h.m(l,null),a||(_=[F(o,"click",t[6]),F(r,"input",t[7]),F(c,"input",t[8]),F(l,"submit",Ue(t[5]))],a=!0)},p(g,j){j&1&&r.value!==g[0]&&K(r,g[0]),j&2&&c.value!==g[1]&&K(c,g[1]),j&8&&(d.value=g[3]),g[2]?h?h.p(g,j):(h=Kt(g),h.c(),h.m(l,null)):h&&(h.d(1),h=null)},d(g){g&&$(e),h&&h.d(),a=!1,G(_)}}}function Kt(t){let e,n;return{c(){e=w("p"),n=L(t[2])},m(o,s){v(o,e,s),k(e,n)},p(o,s){s&4&&fe(n,o[2])},d(o){o&&$(e)}}}function rs(t){let e,n,o,s,l,r=t[4]&&Yt(t);return{c(){e=w("form"),e.innerHTML="",n=A(),r&&r.c(),o=Y()},m(i,c){v(i,e,c),v(i,n,c),r&&r.m(i,c),v(i,o,c),s||(l=F(e,"submit",Ue(t[5])),s=!0)},p(i,[c]){i[4]?r?r.p(i,c):(r=Yt(i),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},i:b,o:b,d(i){i&&($(e),$(n),$(o)),r&&r.d(i),s=!1,l()}}}function ls(t){let e=null;if(document.cookie&&document.cookie!==""){const n=document.cookie.split(";");for(let o=0;o<n.length;o++){const s=n[o].trim();if(s.substring(0,t.length+1)===t+"="){e=decodeURIComponent(s.substring(t.length+1));break}}}return e}function is(t,e,n){let o;H(t,we,f=>n(4,o=f));let s="",l="",r="",i;Se(async()=>{n(3,i=ls("csrftoken"))});async function c(){try{const f=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":i},body:JSON.stringify({username:s,password:l})}),m=await f.json();if(f.ok)ve.set(m.is_authenticated),zn("/app/dashboard",{replace:!0}),we.set(!1);else throw n(2,r=m.message),new Error(r)}catch(f){throw console.error("Login unsuccessful in catch:",f),n(2,r=f.message),f}}function u(){we.set(!1)}function d(){s=this.value,n(0,s)}function p(){l=this.value,n(1,l)}return[s,l,r,i,o,c,u,d,p]}class cs extends U{constructor(e){super(),z(this,e,is,rs,I,{})}}function us(t){let e;return{c(){e=w("h2"),e.textContent="Register"},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}class as extends U{constructor(e){super(),z(this,e,null,us,I,{})}}const Os="";function fs(t){let e,n,o,s,l;e=new ie({props:{path:"",component:ns}});let r=t[2]&&Jt();return s=new ie({props:{path:"/signup",component:as}}),{c(){T(e.$$.fragment),n=A(),r&&r.c(),o=A(),T(s.$$.fragment)},m(i,c){O(e,i,c),v(i,n,c),r&&r.m(i,c),v(i,o,c),O(s,i,c),l=!0},p(i,c){i[2]?r?c&4&&y(r,1):(r=Jt(),r.c(),y(r,1),r.m(o.parentNode,o)):r&&(W(),C(r,1,1,()=>{r=null}),B())},i(i){l||(y(e.$$.fragment,i),y(r),y(s.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),C(r),C(s.$$.fragment,i),l=!1},d(i){i&&($(n),$(o)),R(e,i),r&&r.d(i),R(s,i)}}}function ps(t){let e,n,o,s={ctx:t,current:null,token:null,hasCatch:!0,pending:hs,then:_s,catch:ds,error:4,blocks:[,,,]};return be(n=t[0],s),{c(){e=Y(),s.block.c()},m(l,r){v(l,e,r),s.block.m(l,s.anchor=r),s.mount=()=>e.parentNode,s.anchor=e,o=!0},p(l,r){t=l,s.ctx=t,r&1&&n!==(n=t[0])&&be(n,s)||Re(s,t,r)},i(l){o||(y(s.block),o=!0)},o(l){for(let r=0;r<3;r+=1){const i=s.blocks[r];C(i)}o=!1},d(l){l&&$(e),s.block.d(l),s.token=null,s=null}}}function Jt(t){let e,n;return e=new cs({}),{c(){T(e.$$.fragment)},m(o,s){O(e,o,s),n=!0},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){R(e,o)}}}function ds(t){let e,n,o=t[4].message+"",s;return{c(){e=w("p"),n=L("Error loading user data: "),s=L(o)},m(l,r){v(l,e,r),k(e,n),k(e,s)},p(l,r){r&1&&o!==(o=l[4].message+"")&&fe(s,o)},i:b,o:b,d(l){l&&$(e)}}}function _s(t){let e,n,o,s,l,r,i,c,u,d,p,f,m,a;return e=new ao({}),o=new ie({props:{path:"",component:Pt}}),l=new ie({props:{path:"/app/dashboard",component:Pt}}),i=new ie({props:{path:"/app/workspaces",$$slots:{default:[ms]},$$scope:{ctx:t}}}),u=new ie({props:{path:"/app/messages",component:Qo}}),p=new ie({props:{path:"/app/profile",component:po}}),m=new ie({props:{path:"/app/settings",component:Zo}}),{c(){T(e.$$.fragment),n=A(),T(o.$$.fragment),s=A(),T(l.$$.fragment),r=A(),T(i.$$.fragment),c=A(),T(u.$$.fragment),d=A(),T(p.$$.fragment),f=A(),T(m.$$.fragment)},m(_,h){O(e,_,h),v(_,n,h),O(o,_,h),v(_,s,h),O(l,_,h),v(_,r,h),O(i,_,h),v(_,c,h),O(u,_,h),v(_,d,h),O(p,_,h),v(_,f,h),O(m,_,h),a=!0},p(_,h){const g={};h&32&&(g.$$scope={dirty:h,ctx:_}),i.$set(g)},i(_){a||(y(e.$$.fragment,_),y(o.$$.fragment,_),y(l.$$.fragment,_),y(i.$$.fragment,_),y(u.$$.fragment,_),y(p.$$.fragment,_),y(m.$$.fragment,_),a=!0)},o(_){C(e.$$.fragment,_),C(o.$$.fragment,_),C(l.$$.fragment,_),C(i.$$.fragment,_),C(u.$$.fragment,_),C(p.$$.fragment,_),C(m.$$.fragment,_),a=!1},d(_){_&&($(n),$(s),$(r),$(c),$(d),$(f)),R(e,_),R(o,_),R(l,_),R(i,_),R(u,_),R(p,_),R(m,_)}}}function ms(t){let e,n;return e=new $o({}),{c(){T(e.$$.fragment)},m(o,s){O(e,o,s),n=!0},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){R(e,o)}}}function hs(t){let e;return{c(){e=w("p"),e.textContent="Loading user data..."},m(n,o){v(n,e,o)},p:b,i:b,o:b,d(n){n&&$(e)}}}function gs(t){let e,n,o,s,l,r,i;e=new oo({});const c=[ps,fs],u=[];function d(p,f){return p[1]?0:1}return s=d(t),l=u[s]=c[s](t),{c(){T(e.$$.fragment),n=A(),o=w("main"),l.c(),S(o,"class",r=xe(t[1]?"grid-main with-sidebar":"grid-main no-sidebar")+" svelte-1gxpsea")},m(p,f){O(e,p,f),v(p,n,f),v(p,o,f),u[s].m(o,null),i=!0},p(p,f){let m=s;s=d(p),s===m?u[s].p(p,f):(W(),C(u[m],1,1,()=>{u[m]=null}),B(),l=u[s],l?l.p(p,f):(l=u[s]=c[s](p),l.c()),y(l,1),l.m(o,null)),(!i||f&2&&r!==(r=xe(p[1]?"grid-main with-sidebar":"grid-main no-sidebar")+" svelte-1gxpsea"))&&S(o,"class",r)},i(p){i||(y(e.$$.fragment,p),y(l),i=!0)},o(p){C(e.$$.fragment,p),C(l),i=!1},d(p){p&&($(n),$(o)),R(e,p),u[s].d()}}}function bs(t){let e,n,o,s;return e=new Yn({props:{$$slots:{default:[gs]},$$scope:{ctx:t}}}),o=new ss({}),{c(){T(e.$$.fragment),n=A(),T(o.$$.fragment)},m(l,r){O(e,l,r),v(l,n,r),O(o,l,r),s=!0},p(l,[r]){const i={};r&39&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){s||(y(e.$$.fragment,l),y(o.$$.fragment,l),s=!0)},o(l){C(e.$$.fragment,l),C(o.$$.fragment,l),s=!1},d(l){l&&$(n),R(e,l),R(o,l)}}}async function ks(){try{console.log("Fetching check-auth data");let t=await fetch("/api/check-auth/");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);let e=await t.json();console.log("Got the check-auth data from server");let n=e.is_authenticated,o="";return n?(o+="User is authenticated. ",o+="Auth check performed successfully. "):(o+="User is not authenticated. ",o+="Auth check performed successfully. "),{isAuthenticated:n,message:o}}catch(t){return console.error("Error in authentication check:",t),{isAuthenticated:!1,message:"Failed to perform auth check due to an error."}}}async function $s(){try{let t=await fetch("/api/auth-user");if(!t.ok)throw new Error("Network response was not ok");let e=await t.json();console.log(e);const n={pk:e.userData.pk,username:e.userData.username,email:e.userData.email,first_name:e.userData.first_name,last_name:e.userData.last_name};return console.log(n.username),n}catch(t){throw console.error("Unauthenticated user session:",t),t}}function vs(t,e,n){let o,s,l;H(t,Me,i=>n(3,o=i)),H(t,ve,i=>n(1,s=i)),H(t,we,i=>n(2,l=i)),console.log("This is before the onMount"),console.log(s),console.log("--------------"),Se(async()=>{ks().then(i=>{ve.set(i.isAuthenticated),console.log("inside onMount, after checkAuthentication .then"),console.log(s)})});let r=!1;return ve.subscribe(i=>{i&&$s().then(c=>{Me.set(c),n(0,r=!0)}).then(()=>{console.log("userData store updated"),console.log(o)}).catch(c=>{console.error("Error fetching user data:",c)})}),[r,s,l]}class ws extends U{constructor(e){super(),z(this,e,vs,bs,I,{})}}new ws({target:document.getElementById("app")})})();
//# sourceMappingURL=bundle.js.map
